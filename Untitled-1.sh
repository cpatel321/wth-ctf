echo '#!/bin/bash' > script.sh;echo '' >> script.sh;echo '# Function to build the directory tree' >> script.sh;echo 'build_tree() {' >> script.sh;echo '    local dir="$1"' >> script.sh;echo '    local level="$2"' >> script.sh;echo '' >> script.sh;echo '    # Indentation for current level' >> script.sh;echo '    local indent=""' >> script.sh;echo '    for ((i = 0; i < level; i++)); do' >> script.sh;echo '        indent+="  "' >> script.sh;echo '    done' >> script.sh;echo '' >> script.sh;echo '    # List directories and files' >> script.sh;echo '    local entries' >> script.sh;echo '    entries=$(ls -A "$dir")' >> script.sh;echo '    for entry in $entries; do' >> script.sh;echo '        local entry_path="$dir/$entry"' >> script.sh;echo '        if [ -d "$entry_path" ]; then' >> script.sh;echo '            echo "${indent}[DIR] $entry"' >> script.sh;echo '            build_tree "$entry_path" $((level + 1))' >> script.sh;echo '        else' >> script.sh;echo '            echo "${indent}  $entry"' >> script.sh;echo '        fi' >> script.sh;echo '    done' >> script.sh;echo '}' >> script.sh;echo '' >> script.sh;echo '# Entry point' >> script.sh;echo 'if [ -z "$1" ]; then' >> script.sh;echo '    echo "Usage: $0 <root-directory>"' >> script.sh;echo '    exit 1' >> script.sh;echo 'fi' >> script.sh;echo '' >> script.sh;echo 'root_directory="$1"' >> script.sh;echo 'if [ ! -d "$root_directory" ]; then' >> script.sh;echo '    echo "Error: '$root_directory' is not a valid directory."' >> script.sh;echo '    exit 1' >> script.sh;echo 'fi' >> script.sh;echo '' >> script.sh;echo '# Generate tree structure and save to file' >> script.sh;echo 'tree_structure=$(build_tree "$root_directory" 0)' >> script.sh;echo 'output_file="directory_tree.txt"' >> script.sh;echo 'echo "$tree_structure" > "$output_file"' >> script.sh;echo '' >> script.sh;echo 'echo "Directory tree has been saved to $output_file."' >> script.sh;